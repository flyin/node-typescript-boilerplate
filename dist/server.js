"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const http = require("http");
const services_1 = require("./services");
const logger_1 = require("./utils/logger");
const server = http.createServer(services_1.koa.callback());
services_1.mongoose.connection.once('open', () => {
    logger_1.logger.info(`Connected to: ${services_1.settings.mongoURL}`);
    server.listen(services_1.settings.apiPort, () => logger_1.logger.info(`Server is ready at: http://127.0.0.1:${services_1.settings.apiPort}`));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NlcnZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZCQUE0QjtBQUM1Qix5Q0FBa0Q7QUFDbEQsMkNBQXFDO0FBRXJDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUE7QUFFaEQsbUJBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtJQUMvQixlQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixtQkFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUE7SUFDakQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxtQkFBUSxDQUFDLE9BQU8sRUFBRSxNQUFNLGVBQU0sQ0FBQyxJQUFJLENBQUMsd0NBQXdDLG1CQUFRLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFBO0FBQ2hILENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaHR0cCBmcm9tICdodHRwJ1xuaW1wb3J0IHtrb2EsIG1vbmdvb3NlLCBzZXR0aW5nc30gZnJvbSAnLi9zZXJ2aWNlcydcbmltcG9ydCB7bG9nZ2VyfSBmcm9tICcuL3V0aWxzL2xvZ2dlcidcblxuY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoa29hLmNhbGxiYWNrKCkpXG5cbm1vbmdvb3NlLmNvbm5lY3Rpb24ub25jZSgnb3BlbicsICgpID0+IHtcbiAgbG9nZ2VyLmluZm8oYENvbm5lY3RlZCB0bzogJHtzZXR0aW5ncy5tb25nb1VSTH1gKVxuICBzZXJ2ZXIubGlzdGVuKHNldHRpbmdzLmFwaVBvcnQsICgpID0+IGxvZ2dlci5pbmZvKGBTZXJ2ZXIgaXMgcmVhZHkgYXQ6IGh0dHA6Ly8xMjcuMC4wLjE6JHtzZXR0aW5ncy5hcGlQb3J0fWApKVxufSlcbiJdfQ==